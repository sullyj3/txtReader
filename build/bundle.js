var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function s(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function d(){return a(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}let m;function h(t){m=t}const $=[],x=[],y=[],g=[],b=Promise.resolve();let T=!1;function v(t){y.push(t)}function _(t){g.push(t)}const L=new Set;let J=0;function k(){const t=m;do{for(;J<$.length;){const t=$[J];J++,h(t),D(t.$$)}for(h(null),$.length=0,J=0;x.length;)x.pop()();for(let t=0;t<y.length;t+=1){const n=y[t];L.has(n)||(L.add(n),n())}y.length=0}while($.length);for(;g.length;)g.pop()();T=!1,L.clear(),h(t)}function D(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(v)}}const w=new Set;function S(t,n){t&&t.i&&(w.delete(t),t.i(n))}function E(t,n,e,o){if(t&&t.o){if(w.has(t))return;w.add(t),undefined.c.push((()=>{w.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}function j(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function C(t){t&&t.c()}function N(t,e,u,l){const{fragment:r,on_mount:s,on_destroy:c,after_update:a}=t.$$;r&&r.m(e,u),l||v((()=>{const e=s.map(n).filter(i);c?c.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(v)}function A(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function O(t,n){-1===t.$$.dirty[0]&&($.push(t),T||(T=!0,b.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function z(n,i,u,l,r,c,a,d=[-1]){const f=m;h(n);const p=n.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:e(),dirty:d,skip_bound:!1,root:i.target||f.$$.root};a&&a(p.root);let $=!1;if(p.ctx=u?u(n,i.props||{},((t,e,...o)=>{const i=o.length?o[0]:e;return p.ctx&&r(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),$&&O(n,t)),e})):[],p.update(),$=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(s)}else p.fragment&&p.fragment.c();i.intro&&S(n.$$.fragment),N(n,i.target,i.anchor,i.customElement),k()}h(f)}class F{$destroy(){A(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function M(t){let n,e,i,u,a,m,h,$;return{c(){n=c("button"),n.textContent="Clear",e=d(),i=c("div"),u=c("label"),u.textContent="Join lines",a=d(),m=c("input"),p(u,"for","join-lines"),p(m,"type","checkbox"),p(i,"id","join-lines")},m(o,s){r(o,n,s),r(o,e,s),r(o,i,s),l(i,u),l(i,a),l(i,m),m.checked=t[1],h||($=[f(n,"click",t[4]),f(m,"change",t[7])],h=!0)},p(t,n){2&n&&(m.checked=t[1])},d(t){t&&s(n),t&&s(e),t&&s(i),h=!1,o($)}}}function H(n){let e,o,i,u,a,m,h,$,x=n[0]&&M(n);return{c(){e=c("div"),o=c("span"),i=c("input"),u=d(),a=c("p"),a.textContent="(Or press ctrl-V)",m=d(),x&&x.c(),p(i,"type","file"),p(i,"name","choose file"),p(e,"id","menu")},m(t,s){r(t,e,s),l(e,o),l(o,i),n[6](i),l(o,u),l(o,a),l(e,m),x&&x.m(e,null),h||($=f(i,"change",n[5]),h=!0)},p(t,[n]){t[0]?x?x.p(t,n):(x=M(t),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},i:t,o:t,d(t){t&&s(e),n[6](null),x&&x.d(),h=!1,$()}}}function P(t,n,e){let o,i,{menuDisplayText:u}=n,{menuShouldJoinLines:l}=n;return t.$$set=t=>{"menuDisplayText"in t&&e(0,u=t.menuDisplayText),"menuShouldJoinLines"in t&&e(1,l=t.menuShouldJoinLines)},t.$$.update=()=>{if(4&t.$$.dirty){const t=o&&o[0]?o[0]:null;t&&(async t=>{e(0,u={type:"FileText",fileName:t.name,text:await t.text()})})(t)}},[u,l,o,i,()=>{e(0,u=null),e(2,o=null),e(3,i.value=null,i)},function(){o=this.files,e(2,o)},function(t){x[t?"unshift":"push"]((()=>{i=t,e(3,i)}))},function(){l=this.checked,e(1,l)}]}class q extends F{constructor(t){super(),z(this,t,P,H,u,{menuDisplayText:0,menuShouldJoinLines:1})}}function B(t){let n,e=t[0].fileName+"";return{c(){n=c("h1"),p(n,"id","filename"),p(n,"class","svelte-1s6z1hc")},m(t,o){r(t,n,o),n.innerHTML=e},p(t,o){1&o&&e!==(e=t[0].fileName+"")&&(n.innerHTML=e)},d(t){t&&s(n)}}}function R(t){let n,e;return{c(){n=c("pre"),e=a(t[1]),p(n,"id","text"),p(n,"class","svelte-1s6z1hc")},m(t,o){r(t,n,o),l(n,e)},p(t,n){2&n&&function(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}(e,t[1])},d(t){t&&s(n)}}}function V(n){let e,o,i=n[0]&&"FileText"===n[0].type&&B(n),u=n[0]&&R(n);return{c(){e=c("div"),i&&i.c(),o=d(),u&&u.c(),p(e,"id","text-display"),p(e,"class","svelte-1s6z1hc")},m(t,n){r(t,e,n),i&&i.m(e,null),l(e,o),u&&u.m(e,null)},p(t,[n]){t[0]&&"FileText"===t[0].type?i?i.p(t,n):(i=B(t),i.c(),i.m(e,o)):i&&(i.d(1),i=null),t[0]?u?u.p(t,n):(u=R(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i:t,o:t,d(t){t&&s(e),i&&i.d(),u&&u.d()}}}function G(t){return t.replaceAll(/\s*(\r\n?|\n)/g," ")}function I(t){return t.trim().length>0}function K(t,n,e){let o,{displayText:i}=n,{shouldJoinLines:u}=n;return t.$$set=t=>{"displayText"in t&&e(0,i=t.displayText),"shouldJoinLines"in t&&e(2,u=t.shouldJoinLines)},t.$$.update=()=>{5&t.$$.dirty&&i&&e(1,o=u?i.text.split(/(\r\n|\n)(\r\n?|\n)+/).map(G).filter(I).join("\n\n"):i.text)},[i,o,u]}class Q extends F{constructor(t){super(),z(this,t,K,V,u,{displayText:0,shouldJoinLines:2})}}function U(t){let n,e,o,i,u,a,m,h,$,y;function g(n){t[3](n)}function b(n){t[4](n)}let T={};return void 0!==t[0]&&(T.menuDisplayText=t[0]),void 0!==t[1]&&(T.menuShouldJoinLines=t[1]),o=new q({props:T}),x.push((()=>j(o,"menuDisplayText",g))),x.push((()=>j(o,"menuShouldJoinLines",b))),m=new Q({props:{displayText:t[0],shouldJoinLines:t[1]}}),{c(){n=d(),e=c("main"),C(o.$$.fragment),a=d(),C(m.$$.fragment),document.title="TxtReader",p(e,"class","svelte-161625f")},m(i,u){r(i,n,u),r(i,e,u),N(o,e,null),l(e,a),N(m,e,null),h=!0,$||(y=f(e,"paste",t[2]),$=!0)},p(t,[n]){const e={};!i&&1&n&&(i=!0,e.menuDisplayText=t[0],_((()=>i=!1))),!u&&2&n&&(u=!0,e.menuShouldJoinLines=t[1],_((()=>u=!1))),o.$set(e);const l={};1&n&&(l.displayText=t[0]),2&n&&(l.shouldJoinLines=t[1]),m.$set(l)},i(t){h||(S(o.$$.fragment,t),S(m.$$.fragment,t),h=!0)},o(t){E(o.$$.fragment,t),E(m.$$.fragment,t),h=!1},d(t){t&&s(n),t&&s(e),A(o),A(m),$=!1,y()}}}function W(t,n,e){let o=null,i=!1;return[o,i,t=>{t.preventDefault(),e(0,o={type:"Pasted",text:t.clipboardData.getData("text")})},function(t){o=t,e(0,o)},function(t){i=t,e(1,i)}]}return new class extends F{constructor(t){super(),z(this,t,W,U,u,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
